<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- css font -->
	<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">

	

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

	<script src="https://code.jquery.com/jquery.js"></script> 
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<link  rel="stylesheet" type="text/css" href="css/style.css">


</head>
<body>

	<div class="container">
		<h1> Survey Questions </h1>
		<hr>
		<h2> About You </h2>
		<h3> Name (Required) </h3>
		<input type="text" class="form-control" id="name">
		<h3> Link to Photo Image (Required)</h3>
		<input type="text" class="form-control" id="photoLink">
		<br>
		<hr>

		<h2>Question 1</h2>
		<h3>You love to excercise!</h3>
		<select id=q1>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 2</h2>
		<h3>In stressful situations you tend to stay very calm.</h3>
		<select id=q2>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>

		<h2>Question 3</h2>
		<h3>You like to play with fire.</h3>
		<select id=q3>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 4</h2>
		<h3>You rather be alone than in a crowd of people. </h3>
		<select id=q4>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 5</h2>
		<h3>You're a night owl and get most work done at night.</h3>
		<select id=q5>
	    <option selected disabled>Choose one</option>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 6</h2>
		<h3>You're usually the center of the party.</h3>
		<select id=q6>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 7</h2>
		<h3>You're more analytical than creative.</h3>
		<select id=q7>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 8</h2>
		<h3>You don't really care for people.</h3>
		<select id=q8>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 9</h2>
		<h3>You rather be able to fly than have a crazy super power.</h3>
		<select id=q9>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br>

		<h2>Question 10</h2>
		<h3>You love Pizza.</h3>
		<select id=q10>
	    	<option selected disabled>Choose one</option>
	    	<option value="1 ">1 (Strongly Disagree)</option>
	    	<option value="2">2</option>
	    	<option value="3">3</option>
	    	<option value="4">4</option>
	    	<option value="5">5 (Strongly Agree)</option>
		</select>
		<br><br>
		 <button id="submit" class="btn btn-primary btn-lg btn-block">Submit</button>
		<br><br>



	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/tsunamiq/friendfinder">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>



<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      	<h1> Your closest cartoon character! </h1>
      	<h2 class="commonFriend"></h2>
      	<div class="image"></div>

    </div>
  </div>
</div>

<script type="text/javascript">




   // jQuery methods go here...
  	 $("#submit").on("click", function(event) {
      	event.preventDefault();
   		console.log("hi")
	
		var arrayAnswer = [];
		var name = $("#name").val().trim();
		var photo = $("#photoLink").val().trim();
		var questionCompleted = true ;
		var questionsMissed = [];

		console.log("photo link: " + photoLink);
		console.log("Name: "+ name);

		
      	var arrayAnswer = [];
      	console.log("hello");
      
	      	for( var i=1 ; i <= 10 ; i++){

	      		var questionId = "#q" + i.toString();
	      		questionNum = $(questionId).val();
	      		console.log("question#: " + questionNum);
	      		arrayAnswer.push(questionNum);
	      		if(questionNum === null){
	      			questionCompleted = false;
	      			questionsMissed.push("question# " +i);
	      		}
	      	}
	      	console.log("array of answers: " + arrayAnswer);
      

			if(name === "" ){
				console.log(name)
				alert("Please enter a name!");
			}else if( photoLink ===""){
				alert("Please enter a picture link!")
			}else if(questionCompleted == false){
				alert("Please complete the following questions:" + questionsMissed)
			}else{
		      	var newUser = {
		        	name: $("#name").val().trim(),
		        	photo: $("#photoLink").val().trim(),
		        	score: arrayAnswer
		      	};
	     	}
	      	console.log(newUser);
	      	var currentURL = window.location.origin;
			$.ajax({
			  type: "POST",
			  url: currentURL +"/api/friend",
			  data: newUser,
			  success: function(data){

			  		$(".commonFriend").html(data.name)
			  		$(".image").html("<img src='"+ data.photo +"' width='450' >")
			  		console.log("common friend name: "  +data.name)

			  		$(".bs-example-modal-lg").modal("show");
			  }
			 
			});
		});	









</script>

</body>
</html>
